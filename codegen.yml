# Location of the schema to generate code from, either a:
#  - URL to a GraphQL endpoint
#  - local path to a .graphql file
#  - glob pattern to your GraphQL schema files
#  - JavaScript file that exports the schema to generate code from
schema: "http://127.0.0.1:8080/graphql" 

# Array of paths or glob patterns for files which export operations or fragments,
# using a gql tag or a plain string
documents: "src/graphql/**/*.graphql"

# Map from output path for the generated code to a set of options;
# see https://graphql-code-generator.com/docs/plugins/ for a list of plugins
generates:

  src/graphql/types.generated.ts:

    # Generate types for your entire schema:
    # types, input types, enums, interfaces, scalars and unions
    - "typescript"

  # Generate a file for every defined fragment and operation
  src/graphql/:
    preset: "near-operation-file"
    presetConfig:
      extension: ".generated.ts"
      baseTypesPath: "types.generated.ts"

    plugins:

      # Generate types for your GraphQL documents:
      # query, mutation, subscription and fragment
      - "typescript-operations"

      # Generate a strongly-typed injection-ready Angular service
      # for every defined query, mutation or subscription
      - "typescript-apollo-angular"

config:

  # Automatically add __typename field to the generated types
  nonOptionalTypename: true